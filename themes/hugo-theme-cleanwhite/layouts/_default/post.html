{{ define "header" }}
<!-- Post Header -->
<script>
   document.addEventListener("DOMContentLoaded", function () {
     const shareButton = document.getElementById("shareButton");
     if (shareButton) {
       shareButton.addEventListener("click", async () => {
         const shareData = {
           title: document.title,
           text: "Mira este artÃ­culo:",
           url: window.location.href
         };
         if (navigator.share) {
           try {
             await navigator.share(shareData);
           } catch (err) {
             console.warn("Error al compartir:", err);
           }
         } else {
           navigator.clipboard.writeText(window.location.href);
           alert("ðŸ”— Enlace copiado al portapapeles");
         }
       });
     }
   });
 </script>
<style type="text/css">
   header.intro-header {
      background-image: url('{{ if .Params.image }}{{ .Params.image | relURL }}{{ else }}{{ .Site.Params.header_image | relURL}}{{ end }}')
   }

   .share-post {
      margin-top: 0.5rem;
      text-align: right;
   }

   #shareButton {
      background: none;
      border: none;
      cursor: pointer;
   }


   @media (max-width: 768px) {
      #shareButton {
         font-size: 1.6rem;
      }
   }
</style>
{{ if eq .Params.headerstyle "text" }}
<header class="intro-header style-text" >
{{ else }}
<header class="intro-header" >
{{ end }}
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading"> 
                    <div class="tags">
                        {{ range .Params.tags }}
                        <a class="tag" href="{{ "/tags/" | relLangURL }}{{ . | urlize }}" title="{{ . }}">
                            {{ . }}
                        </a>
                        {{ end }}
                    </div>
                    
                    <h1>{{ .Title }}</h1>
                    <h2 class="subheading">{{ .Params.subtitle }}</h2>
                    <span class="meta">
                        {{ if .Params.metadata }}
                            {{ range $index, $element := .Params.metadata }}
                                {{ if .link }}
                                    <a href="{{ .link }}">{{ .text }}</a>
                                {{ else }}
                                    {{ .text }}
                                {{ end }}
                            {{ end }}
                        {{ else }}
                            Posteado por 
                            {{ if .Params.author }}
                                {{ .Params.author }}
                            {{ else }}
                                    {{ .Site.Title }}
                            {{ end }} 
                            el 
                            {{ .Date | time.Format ":date_long" }}
                            {{ if .Site.Params.page_view_counter }}
                                {{ partial "page_view_counter.html" . }}
                            {{ end }}
                            <!-- Don't show "Ãšltima modificaciÃ³n el" if update happened on the same day. -->
                            {{ if (and (not .Lastmod.IsZero) (not (eq (dateFormat "2006-01-02" .Lastmod) (dateFormat "2006-01-02" .Date)))) }}
                            <br>Ãšltima modificaciÃ³n el {{ dateFormat | time.Format ":date_long"  .Params.LastMod }}
                            {{ end }}
                        {{ end }}    
                    </span>
                    <div class="share-post">
                     <button id="shareButton" aria-label="Compartir este artÃ­culo" title="Compartir este artÃ­culo">
                        <i class="fa fa-share-alt"></i>
                     </button>
                  </div>
                </div>
               
            </div>
        </div>
    </div>
</header>
{{ end }}

{{ define "main" }}
<!-- Post Content -->
<article>
   <div class="container">
      <div class="row">
        <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
          <div class="post-heading">
            <div class="tags">
              {{ range .Params.tags }}
              <a class="tag" href="{{ "/tags/" | relLangURL }}{{ . | urlize }}" title="{{ . }}">
                {{ . }}
              </a>
              {{ end }}
            </div>
    
            <h1>{{ .Title }}</h1>
            <h2 class="subheading">{{ .Params.subtitle }}</h2>
    
            <span class="meta">
              {{ if .Params.metadata }}
                {{ range $index, $element := .Params.metadata }}
                  {{ if .link }}
                    <a href="{{ .link }}">{{ .text }}</a>
                  {{ else }}
                    {{ .text }}
                  {{ end }}
                {{ end }}
              {{ else }}
                Posteado por 
                {{ if .Params.author }}
                  {{ .Params.author }}
                {{ else }}
                  {{ .Site.Title }}
                {{ end }} 
                el 
                {{ .Date | time.Format ":date_long" }}
                {{ if .Site.Params.page_view_counter }}
                  {{ partial "page_view_counter.html" . }}
                {{ end }}
                <!-- No mostrar â€œÃšltima modificaciÃ³nâ€ si fue el mismo dÃ­a -->
                {{ if (and (not .Lastmod.IsZero) (not (eq (dateFormat "2006-01-02" .Lastmod) (dateFormat "2006-01-02" .Date)))) }}
                <br>Ãšltima modificaciÃ³n el {{ dateFormat | time.Format ":date_long" .Params.LastMod }}
                {{ end }}
              {{ end }}
              
            </span>
    
          </div>
        </div>
      </div>
    </div>
</article>

{{ end }} 